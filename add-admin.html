<!DOCTYPE html>
<html>
<head>
  <title>Add Admin Account</title>
</head>
<body>
  <h1>Adding Admin Account to Google Sheets</h1>
  <div id="status">Submitting...</div>
  
  <script>
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        // Hash password with same method as client-side
        const password = 'NLJ2025';
        const encoder = new TextEncoder();
        const data = encoder.encode(password + 'credli-salt-2025');
        const hash = await crypto.subtle.digest('SHA-256', data);
        const passwordHash = Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
        
        const userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        
        console.log('Admin Account Data:');
        console.log('Email: nicole@nicolejolie.com');
        console.log('Password Hash:', passwordHash);
        console.log('User ID:', userId);
        
        // Submit to Google Sheets
        const GOOGLE_SHEETS_URL = 'https://script.google.com/macros/s/AKfycbwqzKYtlOLKFxSPIh-fAS3T2YP_rc66l_H0rrmmXQVnHVy6_ISQ6sqwSN5rSBfor1Bb/exec';
        
        const response = await fetch(GOOGLE_SHEETS_URL, {
          method: 'POST',
          mode: 'no-cors',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            email: 'nicole@nicolejolie.com',
            passwordHash: passwordHash,
            userId: userId,
            plan: 'professional'
          })
        });
        
        document.getElementById('status').innerHTML = `
          <h2>✅ Admin account submitted to Google Sheets</h2>
          <p><strong>Email:</strong> nicole@nicolejolie.com</p>
          <p><strong>Password:</strong> NLJ2025</p>
          <p><strong>Password Hash:</strong> ${passwordHash}</p>
          <p><strong>User ID:</strong> ${userId}</p>
          <p>You can now <a href="login.html?email=nicole@nicolejolie.com">login to the dashboard</a></p>
        `;
        
      } catch (error) {
        console.error('Error:', error);
        document.getElementById('status').innerHTML = '❌ Error submitting admin account: ' + error.message;
      }
    });
  </script>
</body>
</html>